<?xml version="1.0" ?>
<launch>
  <arg name="robot_1_ip" default="192.168.1.22" />
  <arg name="robot_2_ip" default="192.168.1.23"/>
  <arg name="stop_at_shutdown" default="false" />
  <arg name="arm_id_1" default="panda_1"/>
  <arg name="arm_id_2" default="panda_2"/>
  <arg name="hand_1" default="panda_hand"/>
  <arg name="hand_2" default="panda_hand"/>

  <group if="$(eval hand_1 == 'panda_hand')">
    <arg name="robot_1_joint_names" default="[$(arg arm_id_1)_finger_joint1, $(arg arm_id_1)_finger_joint2]" />
    <group ns="combined_panda/$(arg arm_id_1)">
      <node name="franka_gripper" pkg="franka_gripper" type="franka_gripper_node" output="screen">
        <param name="robot_ip" value="$(arg robot_1_ip)"/>
        <param name="stop_at_shutdown" value="$(arg stop_at_shutdown)" />
        <rosparam command="load" file="$(find franka_gripper)/config/franka_gripper_node.yaml" />
        <rosparam param="joint_names" subst_value="true">$(arg robot_1_joint_names)</rosparam>
      </node>
    </group>
  </group>

  <group if="$(eval hand_2 == 'panda_hand')">
    <arg name="robot_2_joint_names" default="[$(arg arm_id_2)_finger_joint2, $(arg arm_id_2)_finger_joint2]" />
    <group ns="combined_panda/$(arg arm_id_2)">
      <node name="franka_gripper" pkg="franka_gripper" type="franka_gripper_node" output="screen">
        <param name="robot_ip" value="$(arg robot_2_ip)"/>
        <param name="stop_at_shutdown" value="$(arg stop_at_shutdown)" />
        <rosparam command="load" file="$(find franka_gripper)/config/franka_gripper_node.yaml" />
        <rosparam param="joint_names" subst_value="true">$(arg robot_2_joint_names)</rosparam>
      </node>
    </group>
  </group>

</launch>